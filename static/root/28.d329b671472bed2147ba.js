(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{gLZc:function(n,o,t){"use strict";t.r(o);var e=t("CcnG"),s=function(){return function(){}}(),i=t("pMnS"),c=function(){function n(n){this.ws=n,console.log({WebSocket:WebSocket})}return n.prototype.ngOnInit=function(){var n=this;this.ws.onreceive(function(o){console.log("Received",{message:o}),n.response="Ping : "+(Date.now()-o.pingtime)+"ms"})},n.prototype.ping=function(){var n=Date.now();console.log({pingtime:n}),this.ws.send({pingtime:n})},n}(),l=function(){function n(){var n=this;this.listeners=[];var o=("http:"===location.protocol?"ws":"wss")+"://"+location.host+"/ws/";console.log({url:o}),this.ws=new WebSocket(o),this.ws.onopen=function(){console.log("connection opened")},this.ws.onclose=function(){console.log("connection closed")},this.ws.onmessage=function(o){console.log("onmessage"),console.log(o);for(var t=0,e=n.listeners;t<e.length;t++)(0,e[t])(JSON.parse(o.data))}}return n.prototype.ngOnDestroy=function(){this.ws.close()},n.prototype.send=function(n){this.ws.send(JSON.stringify(n))},n.prototype.onreceive=function(n){this.listeners.push(n)},n.ngInjectableDef=e.V({factory:function(){return new n},token:n,providedIn:"root"}),n}(),u=e.qb({encapsulation:0,styles:[["\n/*# sourceMappingURL=wsping.component.css.map*/"]],data:{}});function r(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"button",[],null,[[null,"click"]],function(n,o,t){var e=!0;return"click"===o&&(e=!1!==n.component.ping()&&e),e},null,null)),(n()(),e.Kb(-1,null,["ping"])),(n()(),e.Kb(2,null,[" ","\n"]))],null,function(n,o){n(o,2,0,o.component.response)})}function p(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"app-wsping",[],null,null,null,r,u)),e.rb(1,114688,null,0,c,[l],null,null)],function(n,o){n(o,1,0)},null)}var a=e.ob("app-wsping",c,p,{},{},[]),f=t("Ip0R"),g=t("ZYCi"),b=function(){return function(){}}();t.d(o,"WspingModuleNgFactory",function(){return w});var w=e.pb(s,[],function(n){return e.zb([e.Ab(512,e.j,e.eb,[[8,[i.a,a]],[3,e.j],e.z]),e.Ab(4608,f.o,f.n,[e.w,[2,f.A]]),e.Ab(1073742336,f.c,f.c,[]),e.Ab(1073742336,g.n,g.n,[[2,g.t],[2,g.k]]),e.Ab(1073742336,b,b,[]),e.Ab(1073742336,s,s,[]),e.Ab(1024,g.i,function(){return[[{path:"",component:c}]]},[])])})}}]);
//# sourceMappingURL=28.d329b671472bed2147ba.js.map